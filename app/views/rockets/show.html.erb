<div class="container margin-top">
  <div class="row">
    <div class="col-8">
      <div class="rocket-show-card">
        <%= cl_image_tag(@rocket.photo.key, width: 800, height: 500, crop: :fill) %>
        <h1><%= @rocket.name %></h1>
        <h3 class="rocket-show-destination">Going to : <%= @rocket.destination %></h3>
      </div>
      <div class="rocket-show-card">
        <h3>This rocket offers a unique experience :</h3>
        <h4><%= @rocket.description %></h4>
      </div>
      <div style="width: 100%; height: 250px;"
        data-controller="map"
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
      </div>
    </div>

    <div class="col-4">
      <div class="rocket-show-card">
        <h1>Book this rocket!</h1>

          <%= simple_form_for [@rocket, @booking],
                              html: {
                                data: {
                                  controller: 'flatpickr'
                                }
                              } do |f| %>

            <%= f.input :start_date,

                        as: :string,
                        input_html: {
                          data: {
                            flatpickr_target: 'startDateInput',
                          }
                        } %>

              <%= f.input :end_date,
                        as: :string,
                        input_html: {
                          class: 'd-none',
                          data: {
                            flatpickr_target: 'endDateInput'
                          }
                        } %>

            <%= f.submit 'Book now!', class: 'btn btn-primary' %>
          <% end %>

        <%# <form action="">
          <div class="input-group">
            <span class="input-group-text" id="start-date-label">From:</span>
            <input type="text" class="form-control" placeholder="12/10/2017" aria-label="start-date" aria-describedby="start-date-label">
          </div>
          <div class="input-group mt-2">
            <span class="input-group-text" id="end-date-label">To:</span>
            <input type="text" class="form-control" placeholder="18/10/2017" aria-label="end-date" aria-describedby="start-date-label">
          </div>
          <input type="submit" value="Book" class="btn btn-success mt-2" style="width: 100%" onclick="window.location.href='booking>
        </form> %>

      </div>
      <div class="rocket-show-card">
        <h3>Details</h3>
        <div class="flex">
          <div class="flex">
            Rating : <%= @rocket.rating %>
          </div>
          <div class="flex ms-3">
            <%= @rocket.price_per_earthday %> StarCoins / EarthDay
          </div>
        </div>
      </div>
      <div class="rocket-show-card">
        <div class="flex-align">
          <h6 class="no-mb">Share</h6>

          <div class="flex">
            <i class="fa-brands fa-facebook-square me-2"></i>
            <i class="fa-brands fa-twitter-square me-2"></i>
            <i class="fa-brands fa-pinterest-square me-2"></i>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
